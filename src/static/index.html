<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>

    <link rel="stylesheet" type="text/css" href="static/css/style.css">

    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    
    <script type="text/javascript" src="./static/js/script.js"></script>
    <script type="text/javascript" src="./static/js/helper/Util.js"></script>
    <script type="text/javascript" src="./static/js/UserRoom.js"></script>
    <script type="text/javascript" src="./static/js/ChessBoardMoves.js"></script>
    <script type="text/javascript" src="./static/js/Room.js"></script>
    <script type="text/javascript" src="./static/js/App.js"></script>


    <script>    

        /*
        var produto = new Produto("Paulo");
        produto.lista();
        Produto.teste();
        */

        var app = new App();
        
        


        Util.removeInvalidIdChars('Teste 123456');


        var chatInitalized = false;
        $( document ).ready(function() {
            //alert( "ready!" );

          $('#gameContainer').hide();
          $('#chatCredentials').hide();
          $('#chatContainer').hide();


          $('#chatCredentials').find("#name").focus();

           $(document).keypress(function(e) {
            if(e.which == 13) {

                if(!chatInitalized){
                  app.initApp();
                  chatInitalized = true;
                }
            }
          });

          if(!chatInitalized){
            app.initApp();
            chatInitalized = true;
          }       

        });


    </script>


  </head>
  <body>
    

    <div id="mainRoom">
        Main Room:<br/>
        <div id="userLabel">
          <p id="userIdLabel">My id:</p>
        </div>
        <strong>All Connected rooms</strong>
        <br/>
        <div id="allConnectedRooms">
            click to join to the room:<br/>
        </div>
        <br/>
        <br/>

        <div id="createMyRom">
          <a href="javascript:app.createMyRoom();">Create my own room</a>
        </div>
        <div id="allConnectedUsers">
            <strong>All users in main room:<br/></strong>
        </div>

    </div>

    <div id="chatCredentials">
        <input id="name" autocomplete="off" />
        <br/>
        <a href="javascript:app.initApp();">Init</a>
    </div>



    <iframe id="gameContainer"></iframe>


    <div id="chatContainer">

      <div id="exitRoom">
        <a href="javascript:app.exitRoom();">Exit Room</a>
      </div>


      <ul id="messages"></ul>
      <form id='formSender' action="">
        <input id="inputMessageField" autocomplete="off" /><button>Send</button>
      </form>
    <div>
    <div id="userContainer">
      <p>myId:</p>
      <p>connected users:</p>
        <div id="usersBox">
        </div>
    </div>


  </body>
</html>
